# AI-Enhanced Telegram Channel Bot

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –ø–æ–º–æ—â–∏ –≤ –≤–µ–¥–µ–Ω–∏–∏ –∫–∞–Ω–∞–ª–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI (OpenAI, Perplexity) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –∞–Ω–∞–ª–∏–∑–æ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥–æ–º.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞:**
    *   `/idea` (–∫–Ω–æ–ø–∫–∞ "üí° –ò–¥–µ—è"): –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –ø–æ—Å—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –ª—É—á—à–∏—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–æ—Å—Ç–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç OpenAI).
    *   `/news` (–∫–Ω–æ–ø–∫–∞ "üì∞ –ù–æ–≤–æ—Å—Ç–∏"): –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –ø–æ—Å—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–≤–µ–∂–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ RSS-–ª–µ–Ω—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç OpenAI).
    *   `/research [–∑–∞–ø—Ä–æ—Å]` (–∫–Ω–æ–ø–∫–∞ "üîç –†–µ—Å—ë—Ä—á PPLX"): –ò—â–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∑–∞–ø—Ä–æ—Å—É –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –ø–æ—Å—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç Perplexity API).
*   **–ü—É–±–ª–∏–∫–∞—Ü–∏—è:**
    *   Inline-–∫–Ω–æ–ø–∫–∞ "üì§ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å" –ø–æ–¥ —á–µ—Ä–Ω–æ–≤–∏–∫–∞–º–∏ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ—Å—Ç–∞ –≤ –∫–∞–Ω–∞–ª.
    *   Inline-–∫–Ω–æ–ø–∫–∞ "üóë –£–¥–∞–ª–∏—Ç—å" –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞.
*   **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
    *   –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –≤ CSV —Ñ–∞–π–ª (`data/telegram_channel_log.csv`).
    *   `/stats` (–∫–Ω–æ–ø–∫–∞ "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"): –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–∫—Ü–∏–π –∏ –≥—Ä–∞—Ñ–∏–∫.
    *   `/weekly` (–∫–Ω–æ–ø–∫–∞ "üìÖ –û—Ç—á—ë—Ç –∑–∞ –Ω–µ–¥–µ–ª—é"): –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—á–µ—Ç –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –ª—É—á—à–∏–º –ø–æ—Å—Ç–∞–º –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π.
*   **–ê–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥:**
    *   `/auto_best` (–∫–Ω–æ–ø–∫–∞ "üïí –ê–≤—Ç–æ –ø–æ –ª—É—á—à–µ–º—É"): –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥ –Ω–∞ –ª—É—á—à–µ–µ –≤—Ä–µ–º—è. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç "–∏–¥–µ—é".
    *   `/schedule` (–∫–Ω–æ–ø–∫–∞ "‚öôÔ∏è –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ"): –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∏ –≤—Ä–µ–º—è –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥–∞.
    *   `/stop_auto` (–∫–Ω–æ–ø–∫–∞ "üõë –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ–ø–æ—Å—Ç"): –í—ã–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥.
*   **–ö–æ–Ω—Ç—Ä–æ–ª—å:**
    *   –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –±–æ—Ç–∞ (ADMIN_ID).
*   **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
    *   Python 3.10+
    *   `python-telegram-bot` (v20.x)
    *   `openai` (v1.x)
    *   `pandas`, `matplotlib`
    *   `requests`, `httpx`, `feedparser`, `beautifulsoup4`
    *   –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SOCKS5/HTTP –ø—Ä–æ–∫—Å–∏ –¥–ª—è OpenAI.
    *   –ì–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –≤ Docker.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ó–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   Python 3.10+
*   pip
*   Docker –∏ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)
*   Git

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1.  **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone <URL –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
    cd ai-channel-bot
    ```

2.  **–°–æ–∑–¥–∞—Ç—å –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–∞–π–ª `.env`:**
    –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`:
    ```bash
    cp .env.example .env
    ```
    –û—Ç–∫—Ä–æ–π—Ç–µ `.env` –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∏ –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–∏ –∑–Ω–∞—á–µ–Ω–∏—è:
    *   `BOT_TOKEN`: –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram –±–æ—Ç–∞ (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather).
    *   `CHANNEL_ID`: ID –≤–∞—à–µ–≥–æ –∫–∞–Ω–∞–ª–∞ (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `-100...`). –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π (–∏ —á—Ç–µ–Ω–∏–µ, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø–æ—Å—Ç—ã).
    *   `ADMIN_ID`: –í–∞—à —á–∏—Å–ª–æ–≤–æ–π Telegram User ID (–ø–æ–ª—É—á–∏—Ç—å —É @userinfobot).
    *   `OPENAI_API_KEY`: –í–∞—à –∫–ª—é—á OpenAI API.
    *   `MODEL`: –ú–æ–¥–µ–ª—å OpenAI (–Ω–∞–ø—Ä–∏–º–µ—Ä, `gpt-4o-mini`).
    *   `OPENAI_PROXY` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): URL –≤–∞—à–µ–≥–æ SOCKS5 –∏–ª–∏ HTTP –ø—Ä–æ–∫—Å–∏, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ OpenAI —á–µ—Ä–µ–∑ –Ω–µ–≥–æ.
    *   `PPLX_API_KEY` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ö–ª—é—á Perplexity API, –µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `/research`.
    *   –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

3.  **–°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `data`:**
    ```bash
    mkdir data
    ```
    –≠—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è CSV –ª–æ–≥–∞, –≥—Ä–∞—Ñ–∏–∫–∞ –∏ —Ñ–∞–π–ª–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞. –í `.gitignore` –æ–Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞, —á—Ç–æ–±—ã –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. Docker Compose –±—É–¥–µ—Ç –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é.

### –ó–∞–ø—É—Å–∫ —Å Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±)

1.  **–°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
    –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker –∑–∞–ø—É—â–µ–Ω. –í –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
    ```bash
    docker-compose up --build -d
    ```
    *   `--build`: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑, –µ—Å–ª–∏ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ –∏–ª–∏ `Dockerfile`.
    *   `-d`: –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (detached).

2.  **–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:**
    ```bash
    docker-compose logs -f
    ```

3.  **–û—Å—Ç–∞–Ω–æ–≤–∫–∞:**
    ```bash
    docker-compose down
    ```

### –ó–∞–ø—É—Å–∫ –±–µ–∑ Docker (–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

1.  **–°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
    ```bash
    python -m venv venv
    source venv/bin/activate  # Linux/macOS
    # venv\Scripts\activate  # Windows
    ```

2.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install -r requirements.txt
    ```

3.  **–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:**
    ```bash
    python app/bot.py
    ```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1.  –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram.
2.  –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`.
3.  –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é –∏–ª–∏ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–æ—Ç–æ–º.

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

*   **–ü—Ä–∞–≤–∞ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª–µ:** –î–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ—Å—Ç–æ–≤ –±–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≤–∞—à –∫–∞–Ω–∞–ª –∫–∞–∫ **–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä** —Å –ø—Ä–∞–≤–æ–º **"–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π"**. –î–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è *–≤—Å–µ—Ö* –ø–æ—Å—Ç–æ–≤ (–≤–∫–ª—é—á–∞—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –Ω–µ –±–æ—Ç–æ–º) —Ç–∞–∫–∂–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∞–≤–æ **"–ß—Ç–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π"**.
*   **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∞–∫—Ü–∏–π:** –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –ø–æ—Å—Ç—ã –≤ –∫–∞–Ω–∞–ª–µ. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ª—É—á—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (`/stats`, `/auto_best`) –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ —Ä–µ–∞–∫—Ü–∏—è—Ö –ø–æ–ø–∞–¥–∞—é—Ç –≤ –ª–æ–≥ (`.csv`). –°–µ–π—á–∞—Å –æ–Ω–∏ –ø–æ–ø–∞–¥–∞—é—Ç –∫–∞–∫ 0 –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –±–æ—Ç–æ–º –∏–ª–∏ –ø—Ä–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–∑ –∫–∞–Ω–∞–ª–∞. –î–ª—è —Ç–æ—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –º–µ—Ö–∞–Ω–∏–∑–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∏–ª–∏ —Ä—É—á–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CSV).
*   **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ –≤–∞—à —Ñ–∞–π–ª `.env` –∏–ª–∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –≤ Git –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö.
